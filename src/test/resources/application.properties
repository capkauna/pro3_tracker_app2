# --- Test Database Configuration (H2 In-Memory) ---
# These properties will OVERRIDE the main application.properties during testing.

# Use the H2 database engine
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Use the H2 dialect for JPA
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Automatically create/update the database schema based on your @Entity classes
spring.jpa.hibernate.ddl-auto=update

# Don't show SQL logs during tests (optional, cleans up test output)
spring.jpa.show-sql=false

# --- FIX for "Address already in use: 9090" ---
# This tells the gRPC server to start on a random, unused port
# during tests, preventing conflicts.
grpc.server.port=-1

